// reportFormatter.js

/**
 * ë¶„ì„ ê²°ê³¼ë¥¼ Slack ë©”ì‹œì§€ í˜•ì‹ìœ¼ë¡œ í¬ë§·í•©ë‹ˆë‹¤.
 */
function formatDailyReport(analysisResult, repoInfo) {
  if (!analysisResult) {
    return "ì¼ì¼ ë³´ê³ ì„œ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.";
  }

  const today = new Date().toLocaleDateString("ko-KR", {
    year: "numeric",
    month: "long",
    day: "numeric",
    weekday: "long",
  });

  const header = `ğŸ“Š *ì¼ì¼ ê°œë°œ ë³´ê³ ì„œ*\nğŸ“… ${today}\nğŸ“ ${repoInfo.owner}/${repoInfo.repo}\n${"â”€".repeat(30)}`;

  const body = analysisResult.summary;

  const footer = `${"â”€".repeat(30)}\nğŸ¤– Generated by Gemini AI`;

  return `${header}\n\n${body}\n\n${footer}`;
}

module.exports = { formatDailyReport };
